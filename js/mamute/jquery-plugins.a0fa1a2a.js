!function(){function a(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}a.prototype.diff_main=function(a,b,c,d){if("undefined"==typeof d&&(d=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==a||null==b)throw Error("Null input. (diff_main)");if(a==b)return a?[[0,a]]:[];"undefined"==typeof c&&(c=!0);var e=c,f=this.diff_commonPrefix(a,b);c=a.substring(0,f),a=a.substring(f),b=b.substring(f);var f=this.diff_commonSuffix(a,b),g=a.substring(a.length-f);return a=a.substring(0,a.length-f),b=b.substring(0,b.length-f),a=this.diff_compute_(a,b,e,d),c&&a.unshift([0,c]),g&&a.push([0,g]),this.diff_cleanupMerge(a),a},a.prototype.diff_compute_=function(a,b,c,d){if(!a)return[[1,b]];if(!b)return[[-1,a]];var e=a.length>b.length?a:b,f=a.length>b.length?b:a,g=e.indexOf(f);return-1!=g?(c=[[1,e.substring(0,g)],[0,f],[1,e.substring(g+f.length)]],a.length>b.length&&(c[0][0]=c[2][0]=-1),c):1==f.length?[[-1,a],[1,b]]:(e=this.diff_halfMatch_(a,b))?(f=e[0],a=e[1],g=e[2],b=e[3],e=e[4],f=this.diff_main(f,g,c,d),c=this.diff_main(a,b,c,d),f.concat([[0,e]],c)):c&&100<a.length&&100<b.length?this.diff_lineMode_(a,b,d):this.diff_bisect_(a,b,d)},a.prototype.diff_lineMode_=function(a,b,c){var d=this.diff_linesToChars_(a,b);a=d.chars1,b=d.chars2,d=d.lineArray,a=this.diff_main(a,b,!1,c),this.diff_charsToLines_(a,d),this.diff_cleanupSemantic(a),a.push([0,""]);for(var e=d=b=0,f="",g="";b<a.length;){switch(a[b][0]){case 1:e++,g+=a[b][1];break;case-1:d++,f+=a[b][1];break;case 0:if(d>=1&&e>=1){for(a.splice(b-d-e,d+e),b=b-d-e,d=this.diff_main(f,g,!1,c),e=d.length-1;e>=0;e--)a.splice(b,0,d[e]);b+=d.length}d=e=0,g=f=""}b++}return a.pop(),a},a.prototype.diff_bisect_=function(a,b,c){for(var d=a.length,e=b.length,f=Math.ceil((d+e)/2),g=f,h=2*f,i=Array(h),j=Array(h),k=0;h>k;k++)i[k]=-1,j[k]=-1;i[g+1]=0,j[g+1]=0;for(var k=d-e,l=0!=k%2,m=0,n=0,o=0,p=0,q=0;f>q&&!((new Date).getTime()>c);q++){for(var r=-q+m;q-n>=r;r+=2){var s,t=g+r;s=r==-q||r!=q&&i[t-1]<i[t+1]?i[t+1]:i[t-1]+1;for(var u=s-r;d>s&&e>u&&a.charAt(s)==b.charAt(u);)s++,u++;if(i[t]=s,s>d)n+=2;else if(u>e)m+=2;else if(l&&(t=g+k-r,t>=0&&h>t&&-1!=j[t])){var v=d-j[t];if(s>=v)return this.diff_bisectSplit_(a,b,s,u,c)}}for(r=-q+o;q-p>=r;r+=2){for(t=g+r,v=r==-q||r!=q&&j[t-1]<j[t+1]?j[t+1]:j[t-1]+1,s=v-r;d>v&&e>s&&a.charAt(d-v-1)==b.charAt(e-s-1);)v++,s++;if(j[t]=v,v>d)p+=2;else if(s>e)o+=2;else if(!l&&(t=g+k-r,t>=0&&h>t&&-1!=i[t]&&(s=i[t],u=g+s-t,v=d-v,s>=v)))return this.diff_bisectSplit_(a,b,s,u,c)}}return[[-1,a],[1,b]]},a.prototype.diff_bisectSplit_=function(a,b,c,d,e){var f=a.substring(0,c),g=b.substring(0,d);return a=a.substring(c),b=b.substring(d),f=this.diff_main(f,g,!1,e),e=this.diff_main(a,b,!1,e),f.concat(e)},a.prototype.diff_linesToChars_=function(a,b){function c(a){for(var b="",c=0,f=-1,g=d.length;f<a.length-1;){f=a.indexOf("\n",c),-1==f&&(f=a.length-1);var h=a.substring(c,f+1),c=f+1;(e.hasOwnProperty?e.hasOwnProperty(h):void 0!==e[h])?b+=String.fromCharCode(e[h]):(b+=String.fromCharCode(g),e[h]=g,d[g++]=h)}return b}var d=[],e={};d[0]="";var f=c(a),g=c(b);return{chars1:f,chars2:g,lineArray:d}},a.prototype.diff_charsToLines_=function(a,b){for(var c=0;c<a.length;c++){for(var d=a[c][1],e=[],f=0;f<d.length;f++)e[f]=b[d.charCodeAt(f)];a[c][1]=e.join("")}},a.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(f,e)==b.substring(f,e)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e},a.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e},a.prototype.diff_commonOverlap_=function(a,b){var c=a.length,d=b.length;if(0==c||0==d)return 0;if(c>d?a=a.substring(c-d):d>c&&(b=b.substring(0,c)),c=Math.min(c,d),a==b)return c;for(var d=0,e=1;;){var f=a.substring(c-e),f=b.indexOf(f);if(-1==f)return d;e+=f,(0==f||a.substring(c-e)==b.substring(0,e))&&(d=e,e++)}},a.prototype.diff_halfMatch_=function(a,b){function c(a,b,c){for(var d,e,f,h,i=a.substring(c,c+Math.floor(a.length/4)),j=-1,k="";-1!=(j=b.indexOf(i,j+1));){var l=g.diff_commonPrefix(a.substring(c),b.substring(j)),m=g.diff_commonSuffix(a.substring(0,c),b.substring(0,j));k.length<m+l&&(k=b.substring(j-m,j)+b.substring(j,j+l),d=a.substring(0,c-m),e=a.substring(c+l),f=b.substring(0,j-m),h=b.substring(j+l))}return 2*k.length>=a.length?[d,e,f,h,k]:null}if(0>=this.Diff_Timeout)return null;var d=a.length>b.length?a:b,e=a.length>b.length?b:a;if(4>d.length||2*e.length<d.length)return null;var f,g=this,h=c(d,e,Math.ceil(d.length/4)),d=c(d,e,Math.ceil(d.length/2));if(!h&&!d)return null;f=d?h&&h[4].length>d[4].length?h:d:h;var i;return a.length>b.length?(h=f[0],d=f[1],e=f[2],i=f[3]):(e=f[0],i=f[1],h=f[2],d=f[3]),f=f[4],[h,d,e,i,f]},a.prototype.diff_cleanupSemantic=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=0,h=0,i=0,j=0;f<a.length;)0==a[f][0]?(c[d++]=f,g=i,h=j,j=i=0,e=a[f][1]):(1==a[f][0]?i+=a[f][1].length:j+=a[f][1].length,e&&e.length<=Math.max(g,h)&&e.length<=Math.max(i,j)&&(a.splice(c[d-1],0,[-1,e]),a[c[d-1]+1][0]=1,d--,d--,f=d>0?c[d-1]:-1,j=i=h=g=0,e=null,b=!0)),f++;for(b&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),f=1;f<a.length;)-1==a[f-1][0]&&1==a[f][0]&&(b=a[f-1][1],c=a[f][1],d=this.diff_commonOverlap_(b,c),e=this.diff_commonOverlap_(c,b),d>=e?(d>=b.length/2||d>=c.length/2)&&(a.splice(f,0,[0,c.substring(0,d)]),a[f-1][1]=b.substring(0,b.length-d),a[f+1][1]=c.substring(d),f++):(e>=b.length/2||e>=c.length/2)&&(a.splice(f,0,[0,b.substring(0,e)]),a[f-1][0]=1,a[f-1][1]=c.substring(0,c.length-e),a[f+1][0]=-1,a[f+1][1]=b.substring(e),f++),f++),f++},a.prototype.diff_cleanupSemanticLossless=function(b){function c(b,c){if(!b||!c)return 6;var d=b.charAt(b.length-1),e=c.charAt(0),f=d.match(a.nonAlphaNumericRegex_),g=e.match(a.nonAlphaNumericRegex_),h=f&&d.match(a.whitespaceRegex_),i=g&&e.match(a.whitespaceRegex_),d=h&&d.match(a.linebreakRegex_),e=i&&e.match(a.linebreakRegex_),j=d&&b.match(a.blanklineEndRegex_),k=e&&c.match(a.blanklineStartRegex_);return j||k?5:d||e?4:f&&!h&&i?3:h||i?2:f||g?1:0}for(var d=1;d<b.length-1;){if(0==b[d-1][0]&&0==b[d+1][0]){var e=b[d-1][1],f=b[d][1],g=b[d+1][1],h=this.diff_commonSuffix(e,f);if(h)var i=f.substring(f.length-h),e=e.substring(0,e.length-h),f=i+f.substring(0,f.length-h),g=i+g;for(var h=e,i=f,j=g,k=c(e,f)+c(f,g);f.charAt(0)===g.charAt(0);){var e=e+f.charAt(0),f=f.substring(1)+g.charAt(0),g=g.substring(1),l=c(e,f)+c(f,g);l>=k&&(k=l,h=e,i=f,j=g)}b[d-1][1]!=h&&(h?b[d-1][1]=h:(b.splice(d-1,1),d--),b[d][1]=i,j?b[d+1][1]=j:(b.splice(d+1,1),d--))}d++}},a.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,a.whitespaceRegex_=/\s/,a.linebreakRegex_=/[\r\n]/,a.blanklineEndRegex_=/\n\r?\n$/,a.blanklineStartRegex_=/^\r?\n\r?\n/,a.prototype.diff_cleanupEfficiency=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=!1,h=!1,i=!1,j=!1;f<a.length;)0==a[f][0]?(a[f][1].length<this.Diff_EditCost&&(i||j)?(c[d++]=f,g=i,h=j,e=a[f][1]):(d=0,e=null),i=j=!1):(-1==a[f][0]?j=!0:i=!0,e&&(g&&h&&i&&j||e.length<this.Diff_EditCost/2&&3==g+h+i+j)&&(a.splice(c[d-1],0,[-1,e]),a[c[d-1]+1][0]=1,d--,e=null,g&&h?(i=j=!0,d=0):(d--,f=d>0?c[d-1]:-1,i=j=!1),b=!0)),f++;b&&this.diff_cleanupMerge(a)},a.prototype.diff_cleanupMerge=function(a){a.push([0,""]);for(var b,c=0,d=0,e=0,f="",g="";c<a.length;)switch(a[c][0]){case 1:e++,g+=a[c][1],c++;break;case-1:d++,f+=a[c][1],c++;break;case 0:d+e>1?(0!==d&&0!==e&&(b=this.diff_commonPrefix(g,f),0!==b&&(c-d-e>0&&0==a[c-d-e-1][0]?a[c-d-e-1][1]+=g.substring(0,b):(a.splice(0,0,[0,g.substring(0,b)]),c++),g=g.substring(b),f=f.substring(b)),b=this.diff_commonSuffix(g,f),0!==b&&(a[c][1]=g.substring(g.length-b)+a[c][1],g=g.substring(0,g.length-b),f=f.substring(0,f.length-b))),0===d?a.splice(c-e,d+e,[1,g]):0===e?a.splice(c-d,d+e,[-1,f]):a.splice(c-d-e,d+e,[-1,f],[1,g]),c=c-d-e+(d?1:0)+(e?1:0)+1):0!==c&&0==a[c-1][0]?(a[c-1][1]+=a[c][1],a.splice(c,1)):c++,d=e=0,g=f=""}for(""===a[a.length-1][1]&&a.pop(),d=!1,c=1;c<a.length-1;)0==a[c-1][0]&&0==a[c+1][0]&&(a[c][1].substring(a[c][1].length-a[c-1][1].length)==a[c-1][1]?(a[c][1]=a[c-1][1]+a[c][1].substring(0,a[c][1].length-a[c-1][1].length),a[c+1][1]=a[c-1][1]+a[c+1][1],a.splice(c-1,1),d=!0):a[c][1].substring(0,a[c+1][1].length)==a[c+1][1]&&(a[c-1][1]+=a[c+1][1],a[c][1]=a[c][1].substring(a[c+1][1].length)+a[c+1][1],a.splice(c+1,1),d=!0)),c++;d&&this.diff_cleanupMerge(a)},a.prototype.diff_xIndex=function(a,b){var c,d=0,e=0,f=0,g=0;for(c=0;c<a.length&&(1!==a[c][0]&&(d+=a[c][1].length),-1!==a[c][0]&&(e+=a[c][1].length),!(d>b));c++)f=d,g=e;return a.length!=c&&-1===a[c][0]?g:g+(b-f)},a.prototype.diff_prettyHtml=function(a){for(var b=[],c=/&/g,d=/</g,e=/>/g,f=/\n/g,g=0;g<a.length;g++){var h=a[g][0],i=a[g][1],i=i.replace(c,"&amp;").replace(d,"&lt;").replace(e,"&gt;").replace(f,"&para;<br>");switch(h){case 1:b[g]='<ins style="background:#e6ffe6;">'+i+"</ins>";break;case-1:b[g]='<del style="background:#ffe6e6;">'+i+"</del>";break;case 0:b[g]="<span>"+i+"</span>"}}return b.join("")},a.prototype.diff_text1=function(a){for(var b=[],c=0;c<a.length;c++)1!==a[c][0]&&(b[c]=a[c][1]);return b.join("")},a.prototype.diff_text2=function(a){for(var b=[],c=0;c<a.length;c++)-1!==a[c][0]&&(b[c]=a[c][1]);return b.join("")},a.prototype.diff_levenshtein=function(a){for(var b=0,c=0,d=0,e=0;e<a.length;e++){var f=a[e][0],g=a[e][1];switch(f){case 1:c+=g.length;break;case-1:d+=g.length;break;case 0:b+=Math.max(c,d),d=c=0}}return b+=Math.max(c,d)},a.prototype.diff_toDelta=function(a){for(var b=[],c=0;c<a.length;c++)switch(a[c][0]){case 1:b[c]="+"+encodeURI(a[c][1]);break;case-1:b[c]="-"+a[c][1].length;break;case 0:b[c]="="+a[c][1].length}return b.join("	").replace(/%20/g," ")},a.prototype.diff_fromDelta=function(a,b){for(var c=[],d=0,e=0,f=b.split(/\t/g),g=0;g<f.length;g++){var h=f[g].substring(1);switch(f[g].charAt(0)){case"+":try{c[d++]=[1,decodeURI(h)]}catch(i){throw Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var j=parseInt(h,10);if(isNaN(j)||0>j)throw Error("Invalid number in diff_fromDelta: "+h);h=a.substring(e,e+=j),c[d++]="="==f[g].charAt(0)?[0,h]:[-1,h];break;default:if(f[g])throw Error("Invalid diff operation in diff_fromDelta: "+f[g])}}if(e!=a.length)throw Error("Delta length ("+e+") does not equal source text length ("+a.length+").");return c},a.prototype.match_main=function(a,b,c){if(null==a||null==b||null==c)throw Error("Null input. (match_main)");return c=Math.max(0,Math.min(c,a.length)),a==b?0:a.length?a.substring(c,c+b.length)==b?c:this.match_bitap_(a,b,c):-1},a.prototype.match_bitap_=function(a,b,c){function d(a,d){var e=a/b.length,g=Math.abs(c-d);return f.Match_Distance?e+g/f.Match_Distance:g?1:e}if(b.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var e=this.match_alphabet_(b),f=this,g=this.Match_Threshold,h=a.indexOf(b,c);-1!=h&&(g=Math.min(d(0,h),g),h=a.lastIndexOf(b,c+b.length),-1!=h&&(g=Math.min(d(0,h),g)));for(var i,j,k,l=1<<b.length-1,h=-1,m=b.length+a.length,n=0;n<b.length;n++){for(i=0,j=m;j>i;)d(n,c+j)<=g?i=j:m=j,j=Math.floor((m-i)/2+i);m=j,i=Math.max(1,c-j+1);var o=Math.min(c+j,a.length)+b.length;for(j=Array(o+2),j[o+1]=(1<<n)-1;o>=i;o--){var p=e[a.charAt(o-1)];if(j[o]=0===n?(j[o+1]<<1|1)&p:(j[o+1]<<1|1)&p|((k[o+1]|k[o])<<1|1)|k[o+1],j[o]&l&&(p=d(n,o-1),g>=p)){if(g=p,h=o-1,!(h>c))break;i=Math.max(1,2*c-h)}}if(d(n+1,c)>g)break;k=j}return h},a.prototype.match_alphabet_=function(a){for(var b={},c=0;c<a.length;c++)b[a.charAt(c)]=0;for(c=0;c<a.length;c++)b[a.charAt(c)]|=1<<a.length-c-1;return b},a.prototype.patch_addContext_=function(a,b){if(0!=b.length){for(var c=b.substring(a.start2,a.start2+a.length1),d=0;b.indexOf(c)!=b.lastIndexOf(c)&&c.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,c=b.substring(a.start2-d,a.start2+a.length1+d);d+=this.Patch_Margin,(c=b.substring(a.start2-d,a.start2))&&a.diffs.unshift([0,c]),(d=b.substring(a.start2+a.length1,a.start2+a.length1+d))&&a.diffs.push([0,d]),a.start1-=c.length,a.start2-=c.length,a.length1+=c.length+d.length,a.length2+=c.length+d.length}},a.prototype.patch_make=function(b,c,d){var e;if("string"==typeof b&&"string"==typeof c&&"undefined"==typeof d)e=b,c=this.diff_main(e,c,!0),2<c.length&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(b&&"object"==typeof b&&"undefined"==typeof c&&"undefined"==typeof d)c=b,e=this.diff_text1(c);else if("string"==typeof b&&c&&"object"==typeof c&&"undefined"==typeof d)e=b;else{if("string"!=typeof b||"string"!=typeof c||!d||"object"!=typeof d)throw Error("Unknown call format to patch_make.");e=b,c=d}if(0===c.length)return[];d=[],b=new a.patch_obj;for(var f=0,g=0,h=0,i=e,j=0;j<c.length;j++){var k=c[j][0],l=c[j][1];switch(!f&&0!==k&&(b.start1=g,b.start2=h),k){case 1:b.diffs[f++]=c[j],b.length2+=l.length,e=e.substring(0,h)+l+e.substring(h);break;case-1:b.length1+=l.length,b.diffs[f++]=c[j],e=e.substring(0,h)+e.substring(h+l.length);break;case 0:l.length<=2*this.Patch_Margin&&f&&c.length!=j+1?(b.diffs[f++]=c[j],b.length1+=l.length,b.length2+=l.length):l.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(b,i),d.push(b),b=new a.patch_obj,f=0,i=e,g=h)}1!==k&&(g+=l.length),-1!==k&&(h+=l.length)}return f&&(this.patch_addContext_(b,i),d.push(b)),d},a.prototype.patch_deepCopy=function(b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=new a.patch_obj;f.diffs=[];for(var g=0;g<e.diffs.length;g++)f.diffs[g]=e.diffs[g].slice();f.start1=e.start1,f.start2=e.start2,f.length1=e.length1,f.length2=e.length2,c[d]=f}return c},a.prototype.patch_apply=function(a,b){if(0==a.length)return[b,[]];a=this.patch_deepCopy(a);var c=this.patch_addPadding(a);b=c+b+c,this.patch_splitMax(a);for(var d=0,e=[],f=0;f<a.length;f++){var g,h=a[f].start2+d,i=this.diff_text1(a[f].diffs),j=-1;if(i.length>this.Match_MaxBits?(g=this.match_main(b,i.substring(0,this.Match_MaxBits),h),-1!=g&&(j=this.match_main(b,i.substring(i.length-this.Match_MaxBits),h+i.length-this.Match_MaxBits),-1==j||g>=j)&&(g=-1)):g=this.match_main(b,i,h),-1==g)e[f]=!1,d-=a[f].length2-a[f].length1;else if(e[f]=!0,d=g-h,h=-1==j?b.substring(g,g+i.length):b.substring(g,j+this.Match_MaxBits),i==h)b=b.substring(0,g)+this.diff_text2(a[f].diffs)+b.substring(g+i.length);else if(h=this.diff_main(i,h,!1),i.length>this.Match_MaxBits&&this.diff_levenshtein(h)/i.length>this.Patch_DeleteThreshold)e[f]=!1;else{this.diff_cleanupSemanticLossless(h);for(var k,i=0,j=0;j<a[f].diffs.length;j++){var l=a[f].diffs[j];0!==l[0]&&(k=this.diff_xIndex(h,i)),1===l[0]?b=b.substring(0,g+k)+l[1]+b.substring(g+k):-1===l[0]&&(b=b.substring(0,g+k)+b.substring(g+this.diff_xIndex(h,i+l[1].length))),-1!==l[0]&&(i+=l[1].length)}}}return b=b.substring(c.length,b.length-c.length),[b,e]},a.prototype.patch_addPadding=function(a){for(var b=this.Patch_Margin,c="",d=1;b>=d;d++)c+=String.fromCharCode(d);for(d=0;d<a.length;d++)a[d].start1+=b,a[d].start2+=b;var d=a[0],e=d.diffs;if(0==e.length||0!=e[0][0])e.unshift([0,c]),d.start1-=b,d.start2-=b,d.length1+=b,d.length2+=b;else if(b>e[0][1].length){var f=b-e[0][1].length;e[0][1]=c.substring(e[0][1].length)+e[0][1],d.start1-=f,d.start2-=f,d.length1+=f,d.length2+=f}return d=a[a.length-1],e=d.diffs,0==e.length||0!=e[e.length-1][0]?(e.push([0,c]),d.length1+=b,d.length2+=b):b>e[e.length-1][1].length&&(f=b-e[e.length-1][1].length,e[e.length-1][1]+=c.substring(0,f),d.length1+=f,d.length2+=f),c},a.prototype.patch_splitMax=function(b){for(var c=this.Match_MaxBits,d=0;d<b.length;d++)if(!(b[d].length1<=c)){var e=b[d];b.splice(d--,1);for(var f=e.start1,g=e.start2,h="";0!==e.diffs.length;){var i=new a.patch_obj,j=!0;for(i.start1=f-h.length,i.start2=g-h.length,""!==h&&(i.length1=i.length2=h.length,i.diffs.push([0,h]));0!==e.diffs.length&&i.length1<c-this.Patch_Margin;){var h=e.diffs[0][0],k=e.diffs[0][1];1===h?(i.length2+=k.length,g+=k.length,i.diffs.push(e.diffs.shift()),j=!1):-1===h&&1==i.diffs.length&&0==i.diffs[0][0]&&k.length>2*c?(i.length1+=k.length,f+=k.length,j=!1,i.diffs.push([h,k]),e.diffs.shift()):(k=k.substring(0,c-i.length1-this.Patch_Margin),i.length1+=k.length,f+=k.length,0===h?(i.length2+=k.length,g+=k.length):j=!1,i.diffs.push([h,k]),k==e.diffs[0][1]?e.diffs.shift():e.diffs[0][1]=e.diffs[0][1].substring(k.length))}h=this.diff_text2(i.diffs),h=h.substring(h.length-this.Patch_Margin),k=this.diff_text1(e.diffs).substring(0,this.Patch_Margin),""!==k&&(i.length1+=k.length,i.length2+=k.length,0!==i.diffs.length&&0===i.diffs[i.diffs.length-1][0]?i.diffs[i.diffs.length-1][1]+=k:i.diffs.push([0,k])),j||b.splice(++d,0,i)}}},a.prototype.patch_toText=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b.join("")},a.prototype.patch_fromText=function(b){var c=[];if(!b)return c;b=b.split("\n");for(var d=0,e=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;d<b.length;){var f=b[d].match(e);if(!f)throw Error("Invalid patch string: "+b[d]);var g=new a.patch_obj;for(c.push(g),g.start1=parseInt(f[1],10),""===f[2]?(g.start1--,g.length1=1):"0"==f[2]?g.length1=0:(g.start1--,g.length1=parseInt(f[2],10)),g.start2=parseInt(f[3],10),""===f[4]?(g.start2--,g.length2=1):"0"==f[4]?g.length2=0:(g.start2--,g.length2=parseInt(f[4],10)),d++;d<b.length;){f=b[d].charAt(0);try{var h=decodeURI(b[d].substring(1))}catch(i){throw Error("Illegal escape in patch_fromText: "+h)}if("-"==f)g.diffs.push([-1,h]);else if("+"==f)g.diffs.push([1,h]);else if(" "==f)g.diffs.push([0,h]);else{if("@"==f)break;if(""!==f)throw Error('Invalid patch mode "'+f+'" in: '+h)}d++}}return c},a.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},a.patch_obj.prototype.toString=function(){var a,b;a=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,b=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,a=["@@ -"+a+" +"+b+" @@\n"];var c;for(b=0;b<this.diffs.length;b++){switch(this.diffs[b][0]){case 1:c="+";break;case-1:c="-";break;case 0:c=" "}a[b+1]=c+encodeURI(this.diffs[b][1])+"\n"}return a.join("").replace(/%20/g," ")},this.diff_match_patch=a,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}(),function(){var a;a=jQuery,a.fn.extend({prettyTextDiff:function(b){var c,d;return d={originalContainer:".original",changedContainer:".changed",diffContainer:".diff",cleanup:!0,debug:!1},d=a.extend(d,b),a.fn.prettyTextDiff.debug("Options: ",d,d),c=new diff_match_patch,this.each(function(){var b,e,f,g;return g=a(d.originalContainer,this).text(),a.fn.prettyTextDiff.debug("Original text found: ",g,d),b=a(d.changedContainer,this).text(),a.fn.prettyTextDiff.debug("Changed  text found: ",b,d),f=c.diff_main(g,b),d.cleanup&&c.diff_cleanupSemantic(f),a.fn.prettyTextDiff.debug("Diffs: ",f,d),e=f.map(function(b){return a.fn.prettyTextDiff.createHTML(b)}),a(d.diffContainer,this).html(e.join("")),this})}}),a.fn.prettyTextDiff.debug=function(a,b,c){return c.debug?console.log(a,b):void 0},a.fn.prettyTextDiff.createHTML=function(a){var b,c,d,e,f,g,h,i;switch(c=[],e=/&/g,g=/</g,f=/>/g,h=/\n/g,d=a[0],b=a[1],i=b.replace(e,"&amp;").replace(g,"&lt;").replace(f,"&gt;").replace(h,"<br>"),d){case DIFF_INSERT:return"<ins>"+i+"</ins>";case DIFF_DELETE:return"<del>"+i+"</del>";case DIFF_EQUAL:return"<span>"+i+"</span>"}}}.call(this),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastActive)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){a.each(d.split(/\s/),function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a('input[name="'+a(b).attr("name")+'"]:checked').val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if(c=a.validator.methods[g].call(this,f,b,h.parameters),"dependency-mismatch"===c){e=!0;continue}if(e=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+h.method+"' method",i),i}}if(!e)return this.objectLength(d)&&this.successList.push(b),!0},customMetaMessage:function(b,c){if(a.metadata){var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]}},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find('[name="'+b+'"]')},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0
},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[c.name])return"pending";if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,c){function d(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)},teardown:function(){this.removeEventListener(b,d,!0)},handler:function(b){var d=arguments;return d[0]=a.event.fix(b),d[0].type=c,a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery),function(a,b,c){"use strict";var d={version:"2.0.3",tipLocation:"bottom",nubPosition:"auto",scroll:!0,scrollSpeed:300,timer:0,autoStart:!1,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,tipContainer:"body",modal:!1,expose:!1,postExposeCallback:a.noop,preRideCallback:a.noop,postRideCallback:a.noop,preStepCallback:a.noop,postStepCallback:a.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper" role="dialog"></div>',button:'<a href="#" class="joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'}},e=e||!1,f={},g={init:function(c){return this.each(function(){a.isEmptyObject(f)?(f=a.extend(!0,d,c),f.document=b.document,f.$document=a(f.document),f.$window=a(b),f.$content_el=a(this),f.$body=a(f.tipContainer),f.body_offset=a(f.tipContainer).position(),f.$tip_content=a("> li",f.$content_el),f.paused=!1,f.attempts=0,f.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},g.jquery_check(),a.isFunction(a.cookie)||(f.cookieMonster=!1),f.cookieMonster&&a.cookie(f.cookieName)||(f.$tip_content.each(function(b){g.create({$li:a(this),index:b})}),f.autoStart&&(!f.startTimerOnClick&&f.timer>0?(g.show("init"),g.startTimer()):g.show("init"))),f.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(a){a.preventDefault(),f.$li.next().length<1?g.end():f.timer>0?(clearTimeout(f.automate),g.hide(),g.show(),g.startTimer()):(g.hide(),g.show())}),f.$document.on("click.joyride",".joyride-close-tip",function(a){a.preventDefault(),g.end()}),f.$window.bind("resize.joyride",function(){if(f.$li){if(f.exposed&&f.exposed.length>0){var b=a(f.exposed);b.each(function(){var b=a(this);g.un_expose(b),g.expose(b)})}g.is_phone()?g.pos_phone():g.pos_default()}})):g.restart()})},resume:function(){g.set_li(),g.show()},nextTip:function(){f.$li.next().length<1?g.end():f.timer>0?(clearTimeout(f.automate),g.hide(),g.show(),g.startTimer()):(g.hide(),g.show())},tip_template:function(b){var c,d,e;return b.tip_class=b.tip_class||"",c=a(f.template.tip).addClass(b.tip_class),d=a.trim(a(b.li).html())+g.button_text(b.button_text)+f.template.link+g.timer_instance(b.index),e=a(f.template.wrapper),b.li.attr("data-aria-labelledby")&&e.attr("aria-labelledby",b.li.attr("data-aria-labelledby")),b.li.attr("data-aria-describedby")&&e.attr("aria-describedby",b.li.attr("data-aria-describedby")),c.append(e),c.first().attr("data-index",b.index),a(".joyride-content-wrapper",c).append(d),c[0]},timer_instance:function(b){var c;return c=0===b&&f.startTimerOnClick&&f.timer>0||0===f.timer?"":g.outerHTML(a(f.template.timer)[0])},button_text:function(b){return f.nextButton?(b=a.trim(b)||"Next",b=g.outerHTML(a(f.template.button).append(b)[0])):b="",b},create:function(b){var c=b.$li.attr("data-button")||b.$li.attr("data-text"),d=b.$li.attr("class"),e=a(g.tip_template({tip_class:d,index:b.index,button_text:c,li:b.$li}));a(f.tipContainer).append(e)},show:function(b){var d,e,h={},i=[],j=0,k=null;if(f.$li===c||-1===a.inArray(f.$li.index(),f.pauseAfter))if(f.paused?f.paused=!1:g.set_li(b),f.attempts=0,f.$li.length&&f.$target.length>0){for(b&&(f.preRideCallback(f.$li.index(),f.$next_tip),f.modal&&g.show_modal()),f.preStepCallback(f.$li.index(),f.$next_tip),f.modal&&f.expose&&g.expose(),i=(f.$li.data("options")||":").split(";"),j=i.length,d=j-1;d>=0;d--)e=i[d].split(":"),2===e.length&&(h[a.trim(e[0])]=a.trim(e[1]));f.tipSettings=a.extend({},f,h),f.tipSettings.tipLocationPattern=f.tipLocationPatterns[f.tipSettings.tipLocation],!/body/i.test(f.$target.selector)&&f.scroll&&g.scroll_to(),g.is_phone()?g.pos_phone(!0):g.pos_default(!0),k=a(".joyride-timer-indicator",f.$next_tip),/pop/i.test(f.tipAnimation)?(k.outerWidth(0),f.timer>0?(f.$next_tip.show(),k.animate({width:a(".joyride-timer-indicator-wrap",f.$next_tip).outerWidth()},f.timer)):f.$next_tip.show()):/fade/i.test(f.tipAnimation)&&(k.outerWidth(0),f.timer>0?(f.$next_tip.fadeIn(f.tipAnimationFadeSpeed),f.$next_tip.show(),k.animate({width:a(".joyride-timer-indicator-wrap",f.$next_tip).outerWidth()},f.timer)):f.$next_tip.fadeIn(f.tipAnimationFadeSpeed)),f.$current_tip=f.$next_tip,a(".joyride-next-tip",f.$current_tip).focus(),g.tabbable(f.$current_tip)}else f.$li&&f.$target.length<1?g.show():g.end();else f.paused=!0},is_phone:function(){return e?e.mq("only screen and (max-width: 767px)"):f.$window.width()<767?!0:!1},hide:function(){f.modal&&f.expose&&g.un_expose(),f.modal||a(".joyride-modal-bg").hide(),f.$current_tip.hide(),f.postStepCallback(f.$li.index(),f.$current_tip)},set_li:function(a){a?(f.$li=f.$tip_content.eq(f.startOffset),g.set_next_tip(),f.$current_tip=f.$next_tip):(f.$li=f.$li.next(),g.set_next_tip()),g.set_target()},set_next_tip:function(){f.$next_tip=a(".joyride-tip-guide[data-index="+f.$li.index()+"]")},set_target:function(){var b=f.$li.attr("data-class"),c=f.$li.attr("data-id"),d=function(){return c?a(f.document.getElementById(c)):b?a("."+b).first():a("body")};f.$target=d()},scroll_to:function(){var b,c;b=f.$window.height()/2,c=Math.ceil(f.$target.offset().top-b+f.$next_tip.outerHeight()),a("html, body").stop().animate({scrollTop:c},f.scrollSpeed)},paused:function(){return-1===a.inArray(f.$li.index()+1,f.pauseAfter)?!0:!1},destroy:function(){a.isEmptyObject(f)||f.$document.off(".joyride"),a(b).off(".joyride"),a(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),a(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(f.automate),f={}},restart:function(){f.autoStart?(g.hide(),f.$li=c,g.show("init")):(!f.startTimerOnClick&&f.timer>0?(g.show("init"),g.startTimer()):g.show("init"),f.autoStart=!0)},pos_default:function(b){var c=(Math.ceil(f.$window.height()/2),f.$next_tip.offset(),a(".joyride-nub",f.$next_tip)),d=b||!1;d&&(f.$next_tip.css("visibility","hidden"),f.$next_tip.show());var e=Math.ceil(c.outerWidth()/2),h=Math.ceil(c.outerHeight()/2);/body/i.test(f.$target.selector)?f.$li.length&&g.pos_modal(c):(g.bottom()?(f.$next_tip.css({top:f.$target.offset().top+h+f.$target.outerHeight(),left:f.$target.offset().left}),g.nub_position(c,f.tipSettings.nubPosition,"top")):g.top()?(f.$next_tip.css({top:f.$target.offset().top-f.$next_tip.outerHeight()-h,left:f.$target.offset().left}),g.nub_position(c,f.tipSettings.nubPosition,"bottom")):g.right()?(f.$next_tip.css({top:f.$target.offset().top,left:f.$target.outerWidth()+f.$target.offset().left+e}),g.nub_position(c,f.tipSettings.nubPosition,"left")):g.left()&&(f.$next_tip.css({top:f.$target.offset().top,left:f.$target.offset().left-f.$next_tip.outerWidth()-e}),g.nub_position(c,f.tipSettings.nubPosition,"right")),!g.visible(g.corners(f.$next_tip))&&f.attempts<f.tipSettings.tipLocationPattern.length&&(c.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),f.tipSettings.tipLocation=f.tipSettings.tipLocationPattern[f.attempts],f.attempts++,g.pos_default(!0))),d&&(f.$next_tip.hide(),f.$next_tip.css("visibility","visible"))},pos_phone:function(b){var c=f.$next_tip.outerHeight(),d=(f.$next_tip.offset(),f.$target.outerHeight()),e=a(".joyride-nub",f.$next_tip),h=Math.ceil(e.outerHeight()/2),i=b||!1;e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),i&&(f.$next_tip.css("visibility","hidden"),f.$next_tip.show()),/body/i.test(f.$target.selector)?f.$li.length&&g.pos_modal(e):g.top()?(f.$next_tip.offset({top:f.$target.offset().top-c-h}),e.addClass("bottom")):(f.$next_tip.offset({top:f.$target.offset().top+d+h}),e.addClass("top")),i&&(f.$next_tip.hide(),f.$next_tip.css("visibility","visible"))},pos_modal:function(a){g.center(),a.hide(),g.show_modal()},show_modal:function(){a(".joyride-modal-bg").length<1&&a("body").append(f.template.modal).show(),/pop/i.test(f.tipAnimation)?a(".joyride-modal-bg").show():a(".joyride-modal-bg").fadeIn(f.tipAnimationFadeSpeed)},expose:function(){var c,d,e,h,i="expose-"+Math.floor(1e4*Math.random());if(arguments.length>0&&arguments[0]instanceof a)e=arguments[0];else{if(!f.$target||/body/i.test(f.$target.selector))return!1;e=f.$target}return e.length<1?(b.console&&console.error("element not valid",e),!1):(c=a(f.template.expose),f.$body.append(c),c.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),d=a(f.template.exposeCover),h={zIndex:e.css("z-index"),position:e.css("position")},e.css("z-index",1*c.css("z-index")+1),"static"==h.position&&e.css("position","relative"),e.data("expose-css",h),d.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),f.$body.append(d),c.addClass(i),d.addClass(i),e.data("expose",i),f.postExposeCallback(f.$li.index(),f.$next_tip,e),void g.add_exposed(e))},un_expose:function(){var c,d,e,h,i=!1;if(arguments.length>0&&arguments[0]instanceof a)d=arguments[0];else{if(!f.$target||/body/i.test(f.$target.selector))return!1;d=f.$target}return d.length<1?(b.console&&console.error("element not valid",d),!1):(c=d.data("expose"),e=a("."+c),arguments.length>1&&(i=arguments[1]),i===!0?a(".joyride-expose-wrapper,.joyride-expose-cover").remove():e.remove(),h=d.data("expose-css"),"auto"==h.zIndex?d.css("z-index",""):d.css("z-index",h.zIndex),h.position!=d.css("position")&&("static"==h.position?d.css("position",""):d.css("position",h.position)),d.removeData("expose"),d.removeData("expose-z-index"),void g.remove_exposed(d))},add_exposed:function(b){f.exposed=f.exposed||[],b instanceof a?f.exposed.push(b[0]):"string"==typeof b&&f.exposed.push(b)},remove_exposed:function(b){var c;b instanceof a?c=b[0]:"string"==typeof b&&(c=b),f.exposed=f.exposed||[];for(var d=0;d<f.exposed.length;d++)if(f.exposed[d]==c)return void f.exposed.splice(d,1)},center:function(){var a=f.$window;return f.$next_tip.css({top:(a.height()-f.$next_tip.outerHeight())/2+a.scrollTop(),left:(a.width()-f.$next_tip.outerWidth())/2+a.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(f.tipSettings.tipLocation)},top:function(){return/top/i.test(f.tipSettings.tipLocation)},right:function(){return/right/i.test(f.tipSettings.tipLocation)},left:function(){return/left/i.test(f.tipSettings.tipLocation)},corners:function(a){var b=f.$window,c=b.height()/2,d=Math.ceil(f.$target.offset().top-c+f.$next_tip.outerHeight()),e=b.width()+b.scrollLeft(),g=b.height()+d,h=b.height()+b.scrollTop(),i=b.scrollTop();return i>d&&(i=0>d?0:d),g>h&&(h=g),[a.offset().top<i,e<a.offset().left+a.outerWidth(),h<a.offset().top+a.outerHeight(),b.scrollLeft()>a.offset().left]},visible:function(a){for(var b=a.length;b--;)if(a[b])return!1;return!0},nub_position:function(a,b,c){a.addClass("auto"===b?c:b)},startTimer:function(){f.$li.length?f.automate=setTimeout(function(){g.hide(),g.show(),g.startTimer()},f.timer):clearTimeout(f.automate)},end:function(){f.cookieMonster&&a.cookie(f.cookieName,"ridden",{expires:365,domain:f.cookieDomain}),f.timer>0&&clearTimeout(f.automate),f.modal&&f.expose&&g.un_expose(),a(".joyride-modal-bg").hide(),f.$current_tip.hide(),f.postStepCallback(f.$li.index(),f.$current_tip),f.postRideCallback(f.$li.index(),f.$current_tip)},jquery_check:function(){return a.isFunction(a.fn.on)?!0:(a.fn.on=function(a,b,c){return this.delegate(b,a,c)},a.fn.off=function(a,b,c){return this.undelegate(b,a,c)},!1)},outerHTML:function(a){return a.outerHTML||(new XMLSerializer).serializeToString(a)},version:function(){return f.version},tabbable:function(b){a(b).on("keydown",function(c){if(!c.isDefaultPrevented()&&c.keyCode&&27===c.keyCode)return c.preventDefault(),void g.end();if(9===c.keyCode){var d=a(b).find(":tabbable"),e=d.filter(":first"),f=d.filter(":last");c.target!==f[0]||c.shiftKey?c.target===e[0]&&c.shiftKey&&(f.focus(1),c.preventDefault()):(e.focus(1),c.preventDefault())}})}};a.fn.joyride=function(b){return g[b]?g[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.joyride"):g.init.apply(this,arguments)}}(jQuery,this),window.Picker=function(a,b,c){function d(e,f,g,h){function i(){return d._.node("div",d._.node("div",d._.node("div",d._.node("div",p.component.nodes(k.open),m.box),m.wrap),m.frame),m.holder)}function j(a){a.stopPropagation(),"focus"==a.type&&p.$root.addClass(m.focused),p.open()}if(!e)return d;var k={id:Math.abs(~~(1e9*Math.random()))},l=g?a.extend(!0,{},g.defaults,h):h||{},m=a.extend({},d.klasses(),l.klass),n=a(e),o=function(){return this.start()},p=o.prototype={constructor:o,$node:n,start:function(){return k&&k.start?p:(k.methods={},k.start=!0,k.open=!1,k.type=e.type,e.autofocus=e==document.activeElement,e.type="text",e.readOnly=0,p.component=new g(p,l),p.$root=a(d._.node("div",i(),m.picker)).on({focusin:function(a){p.$root.removeClass(m.focused),a.stopPropagation()},mousedown:function(a){a.target!=p.$root.children()[0]&&a.stopPropagation()},click:function(b){var c=b.target,f=c.attributes.length?a(c):a(c).closest("[data-pick]"),g=f.data();c!=p.$root.children()[0]&&(b.stopPropagation(),p.$root.find(document.activeElement).length||e.focus(),g.nav&&!f.hasClass(m.navDisabled)?p.set("highlight",p.component.item.highlight,{nav:g.nav}):d._.isInteger(g.pick)&&!f.hasClass(m.disabled)?p.set("select",g.pick).close(!0):g.clear&&p.clear().close(!0))}}),p._hidden=l.formatSubmit?a("<input type=hidden name="+e.name+(l.hiddenSuffix||"_submit")+(n.data("value")?' value="'+d._.trigger(p.component.formats.toString,p.component,[l.formatSubmit,p.component.item.select])+'"':"")+">")[0]:c,n.addClass(m.input).on("focus.P"+k.id+" click.P"+k.id,j).on("change.P"+k.id,function(){p._hidden&&(p._hidden.value=e.value?d._.trigger(p.component.formats.toString,p.component,[l.formatSubmit,p.component.item.select]):"")}).on("keydown.P"+k.id,function(a){var b=a.keyCode,d=/^(8|46)$/.test(b);return 27==b?(p.close(),!1):((32==b||d||!k.open&&p.component.key[b])&&(a.preventDefault(),a.stopPropagation(),d?p.clear().close():p.open()),c)}).val(n.data("value")?d._.trigger(p.component.formats.toString,p.component,[l.format,p.component.item.select]):e.value).after(p.$root,p._hidden).data(f,p),p.on({start:p.component.onStart,render:p.component.onRender,stop:p.component.onStop,open:p.component.onOpen,close:p.component.onClose,set:p.component.onSet}).on({start:l.onStart,render:l.onRender,stop:l.onStop,open:l.onOpen,close:l.onClose,set:l.onSet}),e.autofocus&&p.open(),p.trigger("start").trigger("render"))},render:function(){return p.$root.html(i()),p.trigger("render")},stop:function(){return k.start?(p.close(),p._hidden&&p._hidden.parentNode.removeChild(p._hidden),p.$root.remove(),n.removeClass(m.input).off(".P"+k.id).removeData(f),e.type=k.type,e.readOnly=!1,p.trigger("stop"),k.methods={},k.start=!1,p):p},open:function(a){return k.open?p:(n.addClass(m.active),p.$root.addClass(m.opened),a!==!1&&(k.open=!0,n.focus(),b.on("click.P"+k.id+" focusin.P"+k.id,function(a){a.target!=e&&a.target!=document&&p.close()}).on("keydown.P"+k.id,function(a){var b=a.keyCode,c=p.component.key[b],f=a.target;27==b?p.close(!0):f!=e||!c&&13!=b?p.$root.find(f).length&&13==b&&(a.preventDefault(),f.click()):(a.preventDefault(),c?d._.trigger(p.component.key.go,p,[c]):p.$root.find("."+m.highlighted).hasClass(m.disabled)||p.set("select",p.component.item.highlight).close())})),p.trigger("open"))},close:function(a){return a&&(n.off("focus.P"+k.id).focus(),setTimeout(function(){n.on("focus.P"+k.id,j)},0)),n.removeClass(m.active),p.$root.removeClass(m.opened+" "+m.focused),k.open&&(k.open=!1,b.off(".P"+k.id)),p.trigger("close")},clear:function(){return p.set("clear")},set:function(a,b,c){var e,f,g=d._.isObject(a),h=g?a:{};if(a){g||(h[a]=b);for(e in h)f=h[e],p.component.item[e]&&p.component.set(e,f,c||{}),("select"==e||"clear"==e)&&n.val("clear"==e?"":d._.trigger(p.component.formats.toString,p.component,[l.format,p.component.get(e)])).trigger("change");p.render()}return p.trigger("set",h)},get:function(a,b){return a=a||"value",null!=k[a]?k[a]:"value"==a?e.value:p.component.item[a]?"string"==typeof b?d._.trigger(p.component.formats.toString,p.component,[b,p.component.get(a)]):p.component.get(a):c},on:function(a,b){var c,e,f=d._.isObject(a),g=f?a:{};if(a){f||(g[a]=b);for(c in g)e=g[c],k.methods[c]=k.methods[c]||[],k.methods[c].push(e)}return p},trigger:function(a,b){var c=k.methods[a];return c&&c.map(function(a){d._.trigger(a,p,[b])}),p}};return new o}return d.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},d._={group:function(a){for(var b,c="",e=d._.trigger(a.min,a);d._.trigger(a.max,a,[e])>=e;e+=a.i)b=d._.trigger(a.item,a,[e]),c+=d._.node(a.node,b[0],b[1],b[2]);return c},node:function(a,b,c,d){return b?(b=Array.isArray(b)?b.join(""):b,c=c?' class="'+c+'"':"",d=d?" "+d:"","<"+a+c+d+">"+b+"</"+a+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isObject:function(a){return{}.toString.call(a).indexOf("Object")>-1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&0===a%1}},d.extend=function(b,c){a.fn[b]=function(e,f){var g=this.data(b);return"picker"==e?g:g&&"string"==typeof e?(d._.trigger(g[e],g,[f]),this):this.each(function(){var f=a(this);f.data(b)||new d(this,b,c,e)})},a.fn[b].defaults=c.defaults},d}(jQuery,jQuery(document)),function(){function a(a,b){var c=this,d=a.$node.data("value");c.settings=b,c.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"navigate create validate",view:"create validate viewset",disable:"flipItem",enable:"flipItem"},c.item={},c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now").set("select",d||a.$node[0].value||c.item.now,{format:d?b.formatSubmit:b.format,data:!!d}),c.key={40:7,38:-7,39:1,37:-1,go:function(a){c.set("highlight",[c.item.highlight.year,c.item.highlight.month,c.item.highlight.date+a],{interval:a}),this.render()}},a.on("render",function(){a.$root.find("."+b.klass.selectMonth).on("change",function(){a.set("highlight",[a.get("view").year,this.value,a.get("highlight").date]),a.$root.find("."+b.klass.selectMonth).focus()}),a.$root.find("."+b.klass.selectYear).on("change",function(){a.set("highlight",[this.value,a.get("view").month,a.get("highlight").date]),a.$root.find("."+b.klass.selectYear).focus()})}).on("open",function(){a.$root.find("button, select").attr("disabled",!1)}).on("close",function(){a.$root.find("button, select").attr("disabled",!0)})}var b=7,c=6;a.prototype.set=function(a,b,c){var d=this;return d.item["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",d.item.select,c):"highlight"==a?d.set("view",d.item.highlight,c):("flip"==a||"min"==a||"max"==a||"disable"==a||"enable"==a)&&d.item.select&&d.item.highlight&&d.set("select",d.item.select,c).set("highlight",d.item.highlight,c),d},a.prototype.get=function(a){return this.item[a]},a.prototype.create=function(a,b,c){var d,e=this;return b=void 0===b?a:b,b==-1/0||1/0==b?d=b:b=Picker._.isObject(b)&&Picker._.isInteger(b.pick)?b.obj:Array.isArray(b)?new Date(b[0],b[1],b[2]):Picker._.isInteger(b)||Picker._.isDate(b)?e.normalize(new Date(b),c):e.now(a,b,c),{year:d||b.getFullYear(),month:d||b.getMonth(),date:d||b.getDate(),day:d||b.getDay(),obj:d||b,pick:d||b.getTime()}},a.prototype.now=function(a,b,c){return b=new Date,c&&c.rel&&b.setDate(b.getDate()+c.rel),this.normalize(b,c)},a.prototype.navigate=function(a,b,c){if(Picker._.isObject(b)){for(var d=new Date(b.year,b.month+(c&&c.nav?c.nav:0),1),e=d.getFullYear(),f=d.getMonth(),g=b.date;new Date(e,f,g).getMonth()!==f;)g-=1;b=[e,f,g]}return b},a.prototype.normalize=function(a){return a.setHours(0,0,0,0),a},a.prototype.measure=function(a,b){var c=this;return b?Picker._.isInteger(b)&&(b=c.now(a,b,{rel:b})):b="min"==a?-1/0:1/0,b},a.prototype.viewset=function(a,b){return this.create([b.year,b.month,1])},a.prototype.validate=function(a,b,c){var d,e,f,g,h=this,i=b,j=c&&c.interval?c.interval:1,k=-1===h.item.enable,l=h.item.min,m=h.item.max,n=k&&h.item.disable.filter(function(a){if(Array.isArray(a)){var c=h.create(a).pick;b.pick>c?d=!0:c>b.pick&&(e=!0)}return Picker._.isInteger(a)}).length;if(!k&&h.disabled(b)||k&&h.disabled(b)&&(n||d||e)||b.pick<=l.pick||b.pick>=m.pick)for(k&&!n&&(!e&&j>0||!d&&0>j)&&(j*=-1);h.disabled(b)&&(Math.abs(j)>1&&(b.month<i.month||b.month>i.month)&&(b=i,j=Math.abs(j)/j),b.pick<=l.pick?(f=!0,j=1):b.pick>=m.pick&&(g=!0,j=-1),!f||!g);)b=h.create([b.year,b.month,b.date+j]);return b},a.prototype.disabled=function(a){var b=this,c=b.item.disable.filter(function(c){return Picker._.isInteger(c)?a.day===(b.settings.firstDay?c:c-1)%7:Array.isArray(c)?a.pick===b.create(c).pick:void 0}).length;return a.pick<b.item.min.pick||a.pick>b.item.max.pick||-1===b.item.enable?!c:c},a.prototype.parse=function(a,b,c){var d=this,e={};if(!b||Picker._.isInteger(b)||Array.isArray(b)||Picker._.isDate(b)||Picker._.isObject(b)&&Picker._.isInteger(b.pick))return b;if(!c||!c.format)throw"Need a formatting option to parse this..";return d.formats.toArray(c.format).map(function(a){var c=d.formats[a],f=c?Picker._.trigger(c,d,[b,e]):a.replace(/^!/,"").length;c&&(e[a]=b.substr(0,f)),b=b.substr(f)}),[e.yyyy||e.yy,+(e.mm||e.m)-(c.data?1:0),e.dd||e.d]},a.prototype.formats=function(){function a(a,b,c){var d=a.match(/\w+/)[0];return c.mm||c.m||(c.m=b.indexOf(d)),d.length}function b(a){return a.match(/\w+/)[0].length}return{d:function(a,b){return a?Picker._.digits(a):b.date},dd:function(a,b){return a?2:Picker._.lead(b.date)},ddd:function(a,c){return a?b(a):this.settings.weekdaysShort[c.day]},dddd:function(a,c){return a?b(a):this.settings.weekdaysFull[c.day]},m:function(a,b){return a?Picker._.digits(a):b.month+1},mm:function(a,b){return a?2:Picker._.lead(b.month+1)},mmm:function(b,c){var d=this.settings.monthsShort;return b?a(b,d,c):d[c.month]},mmmm:function(b,c){var d=this.settings.monthsFull;return b?a(b,d,c):d[c.month]},yy:function(a,b){return a?2:(""+b.year).slice(2)},yyyy:function(a,b){return a?4:b.year},toArray:function(a){return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return Picker._.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}}}(),a.prototype.flipItem=function(a,b){var c=this,d=c.item.disable,e=-1===c.item.enable;return"flip"==b?c.item.enable=e?1:-1:!e&&"enable"==a||e&&"disable"==a?d=c.removeDisabled(d,b):(!e&&"disable"==a||e&&"enable"==a)&&(d=c.addDisabled(d,b)),d},a.prototype.addDisabled=function(a,b){var c=this;return b.map(function(b){c.filterDisabled(a,b).length||a.push(b)}),a},a.prototype.removeDisabled=function(a,b){var c=this;return b.map(function(b){a=c.filterDisabled(a,b,1)}),a},a.prototype.filterDisabled=function(a,b,c){var d=Array.isArray(b);
return a.filter(function(a){var e=!d&&b===a||d&&Array.isArray(a)&&""+b==""+a;return c?!e:e})},a.prototype.nodes=function(a){var d=this,e=d.settings,f=d.item.now,g=d.item.select,h=d.item.highlight,i=d.item.view,j=d.item.disable,k=d.item.min,l=d.item.max,m=function(a){return e.firstDay&&a.push(a.shift()),Picker._.node("thead",Picker._.group({min:0,max:b-1,i:1,node:"th",item:function(b){return[a[b],e.klass.weekdays]}}))}((e.showWeekdaysFull?e.weekdaysFull:e.weekdaysShort).slice(0)),n=function(a){return Picker._.node("div"," ",e.klass["nav"+(a?"Next":"Prev")]+(a&&i.year>=l.year&&i.month>=l.month||!a&&i.year<=k.year&&i.month<=k.month?" "+e.klass.navDisabled:""),"data-nav="+(a||-1))},o=function(b){return e.selectMonths?Picker._.node("select",Picker._.group({min:0,max:11,i:1,node:"option",item:function(a){return[b[a],0,"value="+a+(i.month==a?" selected":"")+(i.year==k.year&&k.month>a||i.year==l.year&&a>l.month?" disabled":"")]}}),e.klass.selectMonth,a?"":"disabled"):Picker._.node("div",b[i.month],e.klass.month)},p=function(){var b=i.year,c=e.selectYears===!0?5:~~(e.selectYears/2);if(c){var d=k.year,f=l.year,g=b-c,h=b+c;if(d>g&&(h+=d-g,g=d),h>f){var j=g-d,m=h-f;g-=j>m?m:j,h=f}return Picker._.node("select",Picker._.group({min:g,max:h,i:1,node:"option",item:function(a){return[a,0,"value="+a+(b==a?" selected":"")]}}),e.klass.selectYear,a?"":"disabled")}return Picker._.node("div",b,e.klass.year)};return Picker._.node("div",n()+n(1)+o(e.showMonthsShort?e.monthsShort:e.monthsFull)+p(),e.klass.header)+Picker._.node("table",m+Picker._.node("tbody",Picker._.group({min:0,max:c-1,i:1,node:"tr",item:function(a){var c=e.firstDay&&0===d.create([i.year,i.month,1]).day?-7:0;return[Picker._.group({min:b*a-i.day+c+1,max:function(){return this.min+b-1},i:1,node:"td",item:function(a){return a=d.create([i.year,i.month,a+(e.firstDay?1:0)]),[Picker._.node("div",a.date,function(b){return b.push(i.month==a.month?e.klass.infocus:e.klass.outfocus),f.pick==a.pick&&b.push(e.klass.now),g&&g.pick==a.pick&&b.push(e.klass.selected),h&&h.pick==a.pick&&b.push(e.klass.highlighted),(j&&d.disabled(a)||a.pick<k.pick||a.pick>l.pick)&&b.push(e.klass.disabled),b.join(" ")}([e.klass.day]),"data-pick="+a.pick)]}})]}})),e.klass.table)+Picker._.node("div",Picker._.node("button",e.today,e.klass.buttonToday,"data-pick="+f.pick+(a?"":" disabled"))+Picker._.node("button",e.clear,e.klass.buttonClear,"data-clear=1"+(a?"":" disabled")),e.klass.footer)},a.defaults=function(a){return{monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",format:"d mmmm, yyyy",klass:{table:a+"table",header:a+"header",navPrev:a+"nav--prev",navNext:a+"nav--next",navDisabled:a+"nav--disabled",month:a+"month",year:a+"year",selectMonth:a+"select--month",selectYear:a+"select--year",weekdays:a+"weekday",day:a+"day",disabled:a+"day--disabled",selected:a+"day--selected",highlighted:a+"day--highlighted",now:a+"day--today",infocus:a+"day--infocus",outfocus:a+"day--outfocus",footer:a+"footer",buttonClear:a+"button--clear",buttonToday:a+"button--today"}}}(Picker.klasses().picker+"__"),Picker.extend("pickadate",a)}(),$.extend($.fn.pickadate.defaults,{monthsFull:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],weekdaysFull:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],weekdaysShort:["dom","seg","ter","qua","qui","sex","sab"],today:"hoje",clear:"excluir",format:"dddd, d de mmmm de yyyy",formatSubmit:"yyyy/mm/dd"});